(function(d,c){d.lightbox=new function(){var a=this;a.init=function(b,e){a.defaults={box:c('<div class="lightbox-main" id="lightbox" style="display:none"><div class="lightbox-overlay"></div><div class="lightbox-wrapper"><div class="lightbox-body"><div class="lightbox-close"><a href="#">&times;</a></div><div class="lightbox-prev" style="display:none;"><a href="#"><i></i></a></div><div class="lightbox-next" style="display:none;"><a href="#"><i></i></a></div><div class="lightbox-header cf"></div><div class="lightbox-content cf"></div><div class="lightbox-footer cf"></div></div></div></div>'),
easing:"undefined"!=typeof jQuery.ui?"easeOutCubic":!1,texts:"undefined"!==typeof app&&"undefined"!==app.data&&"undefined"!==app.data.texts?app.data.texts:{loading:"Cargando...",error:"Ha ocurrido un error",accept:"Aceptar",cancel:"Cancelar",deletes:{title:"\u00bfSeguro que desea eliminar?",description_list:"Esta acci\u00f3n eliminar\u00e1 los elementos seleccionados y no se puede deshacer.",description_single:"Esta acci\u00f3n no se puede deshacer."},select:{title:"Debe seleccionar un elemento",
description:"Para realizar la acci\u00f3n solicitada debe tener al menos un elemento seleccionado."}},href:b.attr("href")||!1,imageTypes:"jpg jpeg png gif tif tiff bmp".split(" "),classes:b.data("class")||!1,title:b.data("title")||!1,action:b.data("action")||!1,type:b.data("type")||!1,description:b.data("description")||!1,content:b.data("content")||!1,footer:b.data("footer")||!1,gallery:b.data("gallery")||!1,behavior:b.data("behavior")||"default"};a.settings=c.extend(!0,a.defaults,e);a.setEvents();
a.setAction();a.setType();a.setBehavior();a.setView()};a.setEvents=function(){c(document).on("click",'.lightbox-close, .lightbox-main a[data-dismiss="modal"], .lightbox-main a[data-dismiss="lightbox"]',function(){a.close();return!1});c(document).on("click",".lightbox-delete-multiple",function(){a.close();var b=c(element.attr("data-form"));b.attr("action",b.attr("action").replace("index","delete"));b.submit();return!1});c(window).resize(function(){a.setPosition()})};a.setAction=function(){switch(a.settings.action){case "delete":a.settings.title=
a.settings.title.length?a.settings.title:a.settings.texts.deletes.title;a.settings.content=a.settings.description.length?a.settings.description:"<p>"+a.settings.texts.deletes.description_single+"</p>";a.settings.footer='<a data-dismiss="lightbox" href="#" class="btn btn-default">'+a.settings.texts.cancel+"</a>";a.settings.footer+='<a href="'+a.settings.href+'" class="btn btn-primary">'+a.settings.texts.accept+"</a>";a.settings.behavior="modal";a.settings.type="inline";break;case "delete-multiple":a.settings.title=
a.settings.title.length?a.settings.title:a.settings.texts.deletes.title,a.settings.content=a.settings.description.length?a.settings.description:"<p>"+a.settings.texts.deletes.description_list+"</p>",a.settings.footer='<a data-dismiss="lightbox" href="#" class="btn btn-default">'+a.settings.texts.cancel+"</a>",a.settings.footer+='<a href="#" class="btn btn-primary lightbox-delete-multiple">'+a.settings.texts.accept+"</a>",a.settings.behavior="modal",a.settings.type="inline"}};a.setType=function(){a.settings.gallery.length&&
(a.settings.type="gallery");if(!a.settings.type){var b=-1!=a.settings.href.indexOf(".")?a.settings.href.split(".").pop():!1;b.length&&-1!=c.inArray(b,a.settings.imageTypes)?a.settings.type="image":a.settings.href.length&&-1<a.settings.href.indexOf("http")?a.settings.type="ajax":a.settings.type="inline"}"inline"!=a.settings.type||a.settings.content||(a.settings.content=a.settings.href)};a.setPosition=function(){c(".lightbox-body").css({"margin-top":(c(window).height()-c(".lightbox-body").height())/
2+"px"})};a.preloadImage=function(b,e){c("<img />").attr("src",b).load(function(){clearTimeout(a.preloadShowLoadingTimer);"function"==typeof e&&e.call(void 0,this)})};a.loadImage=function(b,e){var d;d="gallery"==a.settings.type?a.gallery.items[b]:b;var g="gallery"==a.settings.type&&void 0!==a.gallery&&1<a.gallery.items.length;a.preloadShowLoading=!1;a.preloadShowLoadingTimer=setTimeout(function(){a.preloadShowLoading=!0;a.settings.box.find(".lightbox-body").css({width:a.settings.box.find(".lightbox-content").width()+
"px",height:a.settings.box.find(".lightbox-content").height()+"px"});a.settings.box.find(".lightbox-content").addClass("loading").addClass("dark").html("")},200);a.preloadImage(d,function(b){var d=b.width,f=b.height;a.settings.box.find(".lightbox-content").removeClass("loading").html(b);a.settings.box.find(".lightbox-body").width()!=d&&a.settings.box.find(".lightbox-body").css("marginTop")!=(c(window).height()-f)/2&&a.settings.box.find(".lightbox-body").animate({width:d+"px","margin-top":(c(window).height()-
f)/2+"px"},300,a.settings.easing);g&&(a.settings.box.find(".lightbox-prev").css("top")!=(f-a.settings.box.find(".lightbox-prev").height())/2&&a.settings.box.find(".lightbox-prev").animate({top:(f-a.settings.box.find(".lightbox-prev").height())/2+"px"},300,a.settings.easing),a.settings.box.find(".lightbox-next").css("top")!=(f-a.settings.box.find(".lightbox-next").height())/2&&a.settings.box.find(".lightbox-next").animate({top:(f-a.settings.box.find(".lightbox-next").height())/2+"px"},300,a.settings.easing));
"function"==typeof e&&e.call(void 0,b,d,f)})};a.setBehavior=function(){switch(a.settings.behavior){case "modal":a.settings.box.addClass("is-modal");break;default:a.settings.box.find(".lightbox-wrapper").click(function(b){if(b.target===this)return a.close(),!1})}};a.setView=function(){a.settings.title.length?a.settings.box.find(".lightbox-header").html(a.settings.title):a.settings.box.find(".lightbox-header").hide();a.settings.footer.length?a.settings.box.find(".lightbox-footer").html(a.settings.footer):
a.settings.box.find(".lightbox-footer").hide();switch(a.settings.type){case "inline":if(c(a.settings.content).length){var b=c(a.settings.content).clone(!0);a.settings.box.find(".lightbox-content").html(b)}else a.settings.box.find(".lightbox-content").html(a.settings.content);break;case "image":a.settings.box.addClass("is-image");a.settings.box.find(".lightbox-header").hide();a.settings.box.find(".lightbox-footer").hide();a.settings.box.find(".lightbox-content").addClass("loading");a.loadImage(a.settings.href);
break;case "gallery":a.gallery={items:[],loaded:[],current:0};a.settings.box.addClass("is-image");a.settings.box.addClass("is-gallery");a.settings.box.find(".lightbox-header").hide();a.settings.box.find(".lightbox-footer").hide();a.settings.box.find(".lightbox-content").addClass("loading").html("");a.settings.box.find(".lightbox-prev").hide();a.settings.box.find(".lightbox-next").hide();c.each(c("a",c(a.settings.gallery)),function(){var b=c(this);b.attr("href").length&&-1!=c.inArray(b.attr("href").split(".").pop(),
a.settings.imageTypes)&&a.gallery.items.push(b.attr("href"))});for(b in a.gallery.items)if(a.settings.href==a.gallery.items[b]){a.gallery.current=parseInt(b);break}a.loadImage(a.gallery.current);1<a.gallery.items.length&&(a.settings.box.find(".lightbox-prev").show(),a.settings.box.find(".lightbox-next").show());a.settings.box.find(".lightbox-prev a").off("click").click(function(){--a.gallery.current;-1==a.gallery.current&&(a.gallery.current=a.gallery.items.length-1);a.loadImage(a.gallery.current);
return!1});a.settings.box.find(".lightbox-next a").off("click").click(function(){a.gallery.current+=1;a.gallery.current>a.gallery.items.length-1&&(a.gallery.current=0);a.loadImage(a.gallery.current);return!1});break;case "ajax":c.ajax({url:a.settings.href,success:function(b){a.settings.box.find(".lightbox-content").html(b)}});break;case "iframe":a.settings.box.find(".lightbox-content").html('<iframe src="'+a.settings.href+'" border="0"></iframe>')}};a.bind=function(b,c){b.off("click").click(function(){a.init(b,
c);a.open();return!1})};a.open=function(){c("html,body").addClass("no-scroll");c("body").append(a.settings.box);a.settings.classes&&a.settings.box.addClass(a.settings.classes);a.settings.box.fadeIn(450)};a.close=function(){c("html,body").removeClass("no-scroll");a.settings.box.fadeOut(450,function(){a.settings.box.remove()})}};c.fn.extend({lightbox:function(a){var b=a||{};return this.each(function(){var a=c(this);switch(b){default:case "bind":d.lightbox.bind(a,b);break;case "close":d.lightbox.close()}})}})})(window,
jQuery);