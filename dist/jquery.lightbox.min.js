!function(a,b){"use strict";function c(){var a=this;a.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),a.init=function(c,d){if(a.defaults={box:b('<div class="lightbox-main" id="lightbox" style="display:none"><div class="lightbox-overlay"></div><div class="lightbox-wrapper"><div class="lightbox-body"><div class="lightbox-close"><a href="#">&times;</a></div><div class="lightbox-prev" style="display:none;"><a href="#"><i></i></a></div><div class="lightbox-next" style="display:none;"><a href="#"><i></i></a></div><div class="lightbox-header cf"></div><div class="lightbox-content cf"></div><div class="lightbox-footer cf"></div></div></div></div>'),easing:"undefined"!=typeof jQuery.ui?"easeOutCubic":!1,texts:"undefined"!=typeof app&&"undefined"!==app.data&&"undefined"!==app.data.texts?app.data.texts:{loading:"Cargando...",error:"Ha ocurrido un error",accept:"Aceptar",cancel:"Cancelar",deletes:{title:"¿Seguro que desea eliminar?",description_list:"Esta acción eliminará los elementos seleccionados y no se puede deshacer.",description_single:"Esta acción no se puede deshacer."},select:{title:"Debe seleccionar un elemento",description:"Para realizar la acción solicitada debe tener al menos un elemento seleccionado."}},href:c.attr("href")||!1,imageTypes:["jpg","jpeg","png","gif","tif","tiff","bmp"],classes:c.data("class")||!1,title:c.data("title")||!1,action:c.data("action")||!1,type:c.data("type")||!1,description:c.data("description")||!1,content:c.data("content")||!1,footer:c.data("footer")||!1,gallery:c.data("gallery")||!1,behavior:c.data("behavior")||"default"},a.settings=b.extend(!0,a.defaults,d),a.setEvents(),a.setAction(),a.setType(),a.setBehavior(),a.setView(),("image"==a.settings.type||"gallery"==a.settings.type)&&a.isMobile){var e="undefined"!=typeof document.documentElement.clientWidth?Math.max(document.documentElement.clientWidth,b(window).width()):b(window).width();if(480>e)return a.cancel(c),!1}return!0},a.setEvents=function(){b(document).on("click",'.lightbox-close, .lightbox-main a[data-dismiss="modal"], .lightbox-main a[data-dismiss="lightbox"]',function(){return a.close(),!1}),b(document).on("click",".lightbox-delete-multiple",function(){a.close();var c=b(element.attr("data-form"));return c.attr("action",c.attr("action").replace("index","delete")),c.submit(),!1}),b(window).resize(function(){a.setPosition()})},a.setAction=function(){switch(a.settings.action){case"delete":a.settings.title=a.settings.title.length?a.settings.title:a.settings.texts.deletes.title,a.settings.content=a.settings.description.length?a.settings.description:"<p>"+a.settings.texts.deletes.description_single+"</p>",a.settings.footer='<a data-dismiss="lightbox" href="#" class="btn btn-default">'+a.settings.texts.cancel+"</a>",a.settings.footer+='<a href="'+a.settings.href+'" class="btn btn-primary">'+a.settings.texts.accept+"</a>",a.settings.behavior="modal",a.settings.type="inline";break;case"delete-multiple":a.settings.title=a.settings.title.length?a.settings.title:a.settings.texts.deletes.title,a.settings.content=a.settings.description.length?a.settings.description:"<p>"+a.settings.texts.deletes.description_list+"</p>",a.settings.footer='<a data-dismiss="lightbox" href="#" class="btn btn-default">'+a.settings.texts.cancel+"</a>",a.settings.footer+='<a href="#" class="btn btn-primary lightbox-delete-multiple">'+a.settings.texts.accept+"</a>",a.settings.behavior="modal",a.settings.type="inline"}},a.setType=function(){if(a.settings.gallery.length&&(a.settings.type="gallery"),!a.settings.type){var c=-1!=a.settings.href.indexOf(".")?a.settings.href.split(".").pop():!1;a.settings.type=c.length&&-1!=b.inArray(c,a.settings.imageTypes)?"image":a.settings.href.length&&a.settings.href.indexOf("http")>-1?"ajax":"inline"}"inline"!=a.settings.type||a.settings.content||(a.settings.content=a.settings.href)},a.setPosition=function(c){var c=c||!1,d=a.isMobile&&"undefined"!=typeof document.documentElement.clientHeight?Math.max(document.documentElement.clientHeight,b(window).height()):b(window).height();"initial"==c&&(a.settings.box.css("visibility","hidden"),a.settings.box.css("display","block")),a.settings.box.find(".lightbox-body").css({"margin-top":(d-a.settings.box.find(".lightbox-body").outerHeight())/2+"px"}),"initial"==c&&(a.settings.box.css("display","none"),a.settings.box.css("visibility","visible"))},a.preloadImage=function(c,d){b("<img />").attr("src",c).load(function(){clearTimeout(a.preloadShowLoadingTimer);var b=this;"function"==typeof d&&d.call(void 0,b)})},a.loadImage=function(c,d){var e;e="gallery"==a.settings.type?a.gallery.items[c]:c;var f="gallery"==a.settings.type&&void 0!==a.gallery&&a.gallery.items.length>1;a.preloadShowLoading=!1,a.preloadShowLoadingTimer=setTimeout(function(){a.preloadShowLoading=!0,a.settings.box.find(".lightbox-body").css({width:a.settings.box.find(".lightbox-content").width()+"px",height:a.settings.box.find(".lightbox-content").height()+"px"}),a.settings.box.find(".lightbox-content").addClass("loading").addClass("dark").html("")},200),a.preloadImage(e,function(c){var e=c.width,g=c.height,h=a.isMobile&&"undefined"!=typeof document.documentElement.clientHeight?Math.max(document.documentElement.clientHeight,b(window).height()):b(window).height();a.settings.box.find(".lightbox-content").removeClass("loading").html(c),a.settings.box.find(".lightbox-body").outerWidth()!=e&&a.settings.box.find(".lightbox-body").css("marginTop")!=(h-g)/2&&a.settings.box.find(".lightbox-body").animate({width:e+"px","margin-top":(h-g)/2+"px"},300,a.settings.easing),f&&(a.settings.box.find(".lightbox-prev").css("top")!=(g-a.settings.box.find(".lightbox-prev").outerHeight())/2&&a.settings.box.find(".lightbox-prev").animate({top:(g-a.settings.box.find(".lightbox-prev").outerHeight())/2+"px"},300,a.settings.easing),a.settings.box.find(".lightbox-next").css("top")!=(g-a.settings.box.find(".lightbox-next").outerHeight())/2&&a.settings.box.find(".lightbox-next").animate({top:(g-a.settings.box.find(".lightbox-next").outerHeight())/2+"px"},300,a.settings.easing)),"function"==typeof d&&d.call(void 0,c,e,g)})},a.setBehavior=function(){switch(a.settings.behavior){case"modal":a.settings.box.addClass("is-modal");break;default:a.settings.box.find(".lightbox-wrapper").click(function(b){return b.target===this?(a.close(),!1):void 0})}},a.setView=function(){switch(a.settings.title.length?a.settings.box.find(".lightbox-header").html(a.settings.title):a.settings.box.find(".lightbox-header").hide(),a.settings.footer.length?a.settings.box.find(".lightbox-footer").html(a.settings.footer):a.settings.box.find(".lightbox-footer").hide(),a.settings.type){case"inline":if(b(a.settings.content).length){var c=b(a.settings.content).clone(!0);a.settings.box.find(".lightbox-content").html(c)}else a.settings.box.find(".lightbox-content").html(a.settings.content);break;case"image":a.settings.box.addClass("is-image"),a.settings.box.find(".lightbox-header").hide(),a.settings.box.find(".lightbox-footer").hide(),a.settings.box.find(".lightbox-content").addClass("loading"),a.loadImage(a.settings.href);break;case"gallery":if(a.gallery={items:[],loaded:[],current:0},a.settings.box.addClass("is-image"),a.settings.box.addClass("is-gallery"),a.settings.box.find(".lightbox-header").hide(),a.settings.box.find(".lightbox-footer").hide(),a.settings.box.find(".lightbox-content").addClass("loading").html(""),a.settings.box.find(".lightbox-prev").hide(),a.settings.box.find(".lightbox-next").hide(),b.each(b("a",b(a.settings.gallery)),function(){var c=b(this);c.attr("href").length&&-1!=b.inArray(c.attr("href").split(".").pop(),a.settings.imageTypes)&&a.gallery.items.push(c.attr("href"))}),!a.gallery.items.length)return a.settings.gallery=!1,a.settings.type="image",a.setView();for(var d in a.gallery.items)if(a.settings.href==a.gallery.items[d]){a.gallery.current=parseInt(d);break}a.loadImage(a.gallery.current),a.gallery.items.length>1&&(a.settings.box.find(".lightbox-prev").show(),a.settings.box.find(".lightbox-next").show()),a.settings.box.find(".lightbox-prev a").off("click").click(function(){return a.gallery.current-=1,-1==a.gallery.current&&(a.gallery.current=a.gallery.items.length-1),a.loadImage(a.gallery.current),!1}),a.settings.box.find(".lightbox-next a").off("click").click(function(){return a.gallery.current+=1,a.gallery.current>a.gallery.items.length-1&&(a.gallery.current=0),a.loadImage(a.gallery.current),!1});break;case"ajax":b.ajax({url:a.settings.href,success:function(b){a.settings.box.find(".lightbox-content").html(b)}});break;case"iframe":a.settings.box.find(".lightbox-content").html('<iframe src="'+a.settings.href+'" border="0"></iframe>')}},a.bind=function(b,c){b.off("click").click(function(){var d=a.init(b,c);return d?(a.open(),!1):void 0})},a.cancel=function(a){a.attr("target","_blank")},a.open=function(){b("html,body").addClass("no-scroll"),b("body").append(a.settings.box),a.settings.classes&&a.settings.box.addClass(a.settings.classes),a.setPosition("initial"),a.settings.box.fadeIn(450)},a.close=function(){b("html,body").removeClass("no-scroll"),a.settings.box.fadeOut(450,function(){a.settings.box.remove()})}}a.lightbox=new c,b.fn.extend({lightbox:function(c){var d=c||{};return this.each(function(){var c=b(this);switch(d){default:case"bind":a.lightbox.bind(c,d);break;case"close":a.lightbox.close()}})}})}(window,jQuery);