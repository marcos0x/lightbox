!function(a,b){"use strict";function c(){var a=this;a.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),a.init=function(c,d){if(a.defaults={box:b('<div class="lightbox-main" id="lightbox" style="display:none"><div class="lightbox-overlay"></div><div class="lightbox-wrapper"><div class="lightbox-body"><div class="lightbox-close"><a href="#">&times;</a></div><div class="lightbox-prev" style="display:none;"><a href="#"><i></i></a></div><div class="lightbox-next" style="display:none;"><a href="#"><i></i></a></div><div class="lightbox-header cf"></div><div class="lightbox-content cf"></div><div class="lightbox-footer cf"></div></div></div></div>'),easing:"undefined"!=typeof jQuery.ui?"easeOutCubic":!1,texts:"undefined"!=typeof app&&"undefined"!=typeof app.data&&"undefined"!=typeof app.data.texts?app.data.texts:{loading:"Cargando...",error:"Ha ocurrido un error",accept:"Aceptar",cancel:"Cancelar",deletes:{title:"¿Seguro que desea eliminar?",description_list:"Esta acción eliminará los elementos seleccionados y no se puede deshacer.",description_single:"Esta acción no se puede deshacer."},select:{title:"Debe seleccionar un elemento",description:"Para realizar la acción solicitada debe tener al menos un elemento seleccionado."}},open:c.attr("data-open")||!1,href:c.attr("href")||!1,async:c.attr("async")||!1,animate:c.attr("data-animate")||!1,behavior:c.attr("data-behavior")||"default",type:c.attr("data-type")||!1,action:c.attr("data-action")||!1,classes:c.attr("data-class")||!1,width:c.attr("data-width")||!1,height:c.attr("data-height")||!1,types:{image:["jpg","jpeg","png","gif","tif","tiff","bmp"],video:["mp4","webm","ogg","flv"]},videoPoster:c.attr("data-video-poster")||"",videoFormat:c.attr("data-video-format")||"html5",gallery:c.attr("data-gallery")||!1,title:c.attr("data-title")||!1,description:c.attr("data-description")||!1,content:c.attr("data-content")||!1,footer:c.attr("data-footer")||!1,documentBody:{position:b("body").css("position"),overflow:b("body").css("overflow")},complete:!1},a.settings=b.extend(!0,a.defaults,d),a.lightbox=a.settings.box,a.setEvents(),a.setAction(),a.setBehavior(),a.setType(),a.setView(),("image"==a.settings.type||"video"==a.settings.type||"undefined"!=typeof a.settings.gallery)&&a.isMobile){var e="undefined"!=typeof document.documentElement.clientWidth?Math.max(document.documentElement.clientWidth,b(window).width()):b(window).width();if(480>e)return a.cancel(c),!1}return a.settings.open&&a.open(),!0},a.windowWidth=function(){return a.isMobile&&"undefined"!=typeof document.documentElement.clientWidth?Math.max(document.documentElement.clientWidth,b(window).width()):b(window).width()},a.windowHeight=function(){return a.isMobile&&"undefined"!=typeof document.documentElement.clientHeight?Math.max(document.documentElement.clientHeight,b(window).height()):b(window).height()},a.setEvents=function(){b(document).on("click",'.lightbox-close, .lightbox-main a[data-dismiss="modal"], .lightbox-main a[data-dismiss="lightbox"]',function(){return a.close(),!1}),b(document).on("click",".lightbox-delete-multiple",function(){a.close();var c=b(element.attr("data-form"));return c.attr("action",c.attr("action").replace("index","delete")),c.submit(),!1}),a.lightbox.find(".lightbox-prev a").off("click").click(function(){return a.loadItemGalleryPrev(),!1}),a.lightbox.find(".lightbox-next a").off("click").click(function(){return a.loadItemGalleryNext(),!1}),b(window).resize(function(){a.setPosition("update")})},a.setAction=function(){switch(a.settings.action){case"delete":a.settings.title=a.settings.title.length?a.settings.title:a.settings.texts.deletes.title,a.settings.content=a.settings.description.length?a.settings.description:"<p>"+a.settings.texts.deletes.description_single+"</p>",a.settings.footer='<a data-dismiss="lightbox" href="#" class="btn btn-default">'+a.settings.texts.cancel+"</a>",a.settings.footer+='<a href="'+a.settings.href+'" class="btn btn-primary">'+a.settings.texts.accept+"</a>",a.settings.behavior="modal",a.settings.type="inline";break;case"delete-multiple":a.settings.title=a.settings.title.length?a.settings.title:a.settings.texts.deletes.title,a.settings.content=a.settings.description.length?a.settings.description:"<p>"+a.settings.texts.deletes.description_list+"</p>",a.settings.footer='<a data-dismiss="lightbox" href="#" class="btn btn-default">'+a.settings.texts.cancel+"</a>",a.settings.footer+='<a href="#" class="btn btn-primary lightbox-delete-multiple">'+a.settings.texts.accept+"</a>",a.settings.behavior="modal",a.settings.type="inline"}},a.setBehavior=function(){switch(a.settings.behavior){case"modal":a.lightbox.addClass("is-modal");break;default:a.lightbox.find(".lightbox-wrapper").click(function(b){return b.target===this?(a.close(),!1):void 0})}},a.checkType=function(c,d){if("string"!=typeof c||"string"!=typeof d)return!1;switch(c){case"image":case"video":var d=d.split("?")[0],e=d.indexOf(".")>-1?d.split(".").pop():!1;if(e.length&&-1!=b.inArray(e,a.settings.types[c]))return!0}return!1},a.setType=function(b){var b=b||a.settings.href;a.settings.type||(a.settings.type=a.checkType("image",b)?"image":a.checkType("video",b)?"video":"inline"),"inline"!=a.settings.type||a.settings.content||(a.settings.content=b)},a.setView=function(){if(a.settings.isGallery=a.settings.gallery.length?!0:!1,a.settings.isGallery)a.loadGallery();else switch(a.settings.title.length?a.lightbox.find(".lightbox-header").html(a.settings.title):a.lightbox.find(".lightbox-header").hide(),a.settings.footer.length?a.lightbox.find(".lightbox-footer").html(a.settings.footer):a.lightbox.find(".lightbox-footer").hide(),a.settings.type){case"inline":b(a.settings.content).length?(a.settings.contentElement=b(a.settings.content).clone(!0),b(a.settings.content).wrap('<div class="lightbox-content-clone" style="display:none"></div>'),b(a.settings.content).remove(),a.lightbox.find(".lightbox-content").html(a.settings.contentElement)):a.lightbox.find(".lightbox-content").html(a.settings.content);break;case"image":a.lightbox.addClass("is-loading").find(".lightbox-header, .lightbox-footer").hide(),a.lightbox.find(".lightbox-content").addClass("loading"),a.loadImage(a.settings.href);break;case"video":a.lightbox.addClass("is-loading").find(".lightbox-header, .lightbox-footer").hide(),a.lightbox.find(".lightbox-content").addClass("loading"),a.loadVideo(a.settings.href);break;case"ajax":a.lightbox.addClass("is-ajax is-loading").removeClass("is-image is-inline is-video").find(".lightbox-content").addClass("loading");var c={url:a.settings.href};a.settings.async&&(c.async=!0),b.ajax(c).done(function(b){a.lightbox.removeClass("is-loading").find(".lightbox-content").removeClass("loading").html(b),"function"==typeof a.settings.complete&&a.settings.complete.call(void 0),setTimeout(function(){a.setPosition("update")},350)});break;case"iframe":a.lightbox.find(".lightbox-content").html('<iframe src="'+a.settings.href+'" border="0"></iframe>')}},a.loadGallery=function(){a.gallery={items:[],current:0};for(var c=b(a.settings.gallery).find("a"),d=0;d<c.length;d++){var e=c.eq(d),f=e.attr("href");"undefined"!=typeof f&&(a.checkType("image",f)?a.gallery.items.push(f):a.checkType("video",f)&&a.gallery.items.push(f))}if(a.gallery.items.length<=1)return a.settings.gallery=!1,a.settings.isGallery=!1,a.setView();a.lightbox.addClass("is-gallery is-loading is-"+a.settings.type),a.lightbox.find(".lightbox-header").hide(),a.lightbox.find(".lightbox-footer").hide(),a.lightbox.find(".lightbox-prev").hide(),a.lightbox.find(".lightbox-next").hide(),a.lightbox.find(".lightbox-content").addClass("loading").html("");for(var d in a.gallery.items)if(a.settings.href==a.gallery.items[d]){a.gallery.current=parseInt(d,10);break}a.loadItemGallery(a.gallery.items[a.gallery.current]),a.gallery.items.length>1&&(a.lightbox.find(".lightbox-prev").show(),a.lightbox.find(".lightbox-next").show())},a.loadItemGalleryPrev=function(){a.gallery.current-=1,-1==a.gallery.current&&(a.gallery.current=a.gallery.items.length-1),a.loadItemGallery(a.gallery.items[a.gallery.current])},a.loadItemGalleryNext=function(){a.gallery.current+=1,a.gallery.current>a.gallery.items.length-1&&(a.gallery.current=0),a.loadItemGallery(a.gallery.items[a.gallery.current])},a.loadItemGallery=function(b){a.setType(b),a.checkType("image",b)?a.loadImage(b):a.checkType("video",b)&&a.loadVideo(b)},a.preloadImage=function(c,d){b("<img />").attr("src",c).css({maxWidth:"100%"}).load(function(){clearTimeout(a.preloadShowLoadingTimer);var b=this;"function"==typeof d&&d(b)})},a.loadImage=function(b,c){a.preloadShowLoading=!1,a.preloadShowLoadingTimer=setTimeout(function(){a.preloadShowLoading=!0;var b=a.lightbox.find(".lightbox-content"),c=b.width(),d=b.height();a.lightbox.find(".lightbox-body").css({width:c+"px",height:d+"px"}),b.css({width:c+"px",height:d+"px"}).addClass("loading dark").html("")},200),a.preloadImage(b,function(b){var d=b.width,e=b.height;a.lightbox.addClass("is-image").removeClass("is-video is-inline is-ajax is-loading"),a.setSize(d,e),a.lightbox.find(".lightbox-content").removeClass("loading").css({width:"auto",height:"auto"}).html(b),"function"==typeof c&&c(b,d,e)})},a.loadVideo=function(c,d){var e=parseInt(a.settings.width,10)||640,f=parseInt(a.settings.height,10)||480,g=a.settings.videoFormat,h=c.indexOf(".")>-1?c.split(".").pop():!1;c.indexOf("youtube")>-1?(c=c.replace("watch?v=","embed/"),g="iframe"):c.indexOf("vimeo")>-1&&(c=c.replace("www.","").replace("vimeo.com/","player.vimeo.com/video/"),g="iframe");var i=b('<div class="lightbox-video" style="width:'+e+"px; height:"+f+'px; overflow:hidden;"></div>');switch(g){case"flash":var j=b('<object id="lightbox-video" width="'+e+'" height="'+f+'" type="application/x-shockwave-flash" data="http://releases.flowplayer.org/swf/flowplayer-3.2.18.swf"><param name="movie" value="http://releases.flowplayer.org/swf/flowplayer-3.2.18.swf"><param name="allowfullscreen" value="true"><param value="true" name="allowfullscreen"><param value="always" name="allowscriptaccess"><param value="high" name="quality"><param value="#000000" name="bgcolor"><param  name="flashvars" value=\'config={"clip":{"autoPlay":false,"autoBuffering":true,"baseUrl":"'+c.split("/").slice(0,-1).join("/")+'/","url":"'+c.split("/").slice(-1).join("")+'"},"playerId":"lightbox-video","playlist":[{"autoPlay":false,"autoBuffering":true,"baseUrl":"'+c.split("/").slice(0,-1).join("/")+'/","url":"'+c.split("/").slice(-1).join("")+"\"}]}'></object>");e+=2,f+=2;break;case"html5":var j=b('<video width="'+e+'" height="'+f+'" '+(a.settings.videoPoster?'poster="'+a.settings.videoPoster+'"':"")+' controls><source src="'+c+'" type="video/'+h+'"></video>');e+=2,f+=2;break;case"iframe":var j='<iframe id="lightbox-video" width="100%" height="100%" src="'+c+'"></iframe>'}i.html(j),a.lightbox.addClass("is-video").removeClass("is-image is-inline is-ajax is-loading"),a.setSize(e,f),a.lightbox.find(".lightbox-content").removeClass("loading").css({width:e+"px",height:f+"px"}).html(i),"function"==typeof d&&d(i,e,f)},a.setSize=function(c,d){a.settings.newWidth=c||a.settings.newWidth,a.settings.newHeight=d||a.settings.newHeight;var e=a.lightbox.find(".lightbox-body"),f=e.outerWidth(),g=e.outerHeight(),h=e.css("marginTop"),i=a.settings.newHeight,j=a.settings.newWidth,k=(a.windowHeight()-a.settings.newHeight)/2,l={duration:300,queue:!1,easing:a.settings.easing};if(a.windowWidth()-100<a.settings.newWidth){if(j=a.windowWidth()-100,i=j*a.settings.newHeight/a.settings.newWidth,k=(a.windowHeight()-i)/2,a.windowHeight()-30<i){var m=a.windowHeight()-30;j=m*j/i,k=(a.windowHeight()-m)/2,i=m}}else a.windowHeight()-30<a.settings.newHeight&&(i=a.windowHeight()-30,j=i*a.settings.newWidth/a.settings.newHeight,k=(a.windowHeight()-i)/2);if(a.settings.animate||e.css({transition:"none"}),h!=k&&(a.settings.animate?e.animate({marginTop:k+"px"},l):e.css({marginTop:k+"px"})),f!=j&&(a.settings.animate?e.animate({width:j+"px"},l):e.css({width:j+"px"})),g!=i&&(a.settings.animate?e.animate({height:i+"px"},b.extend(!0,l,{complete:function(){e.css({overflow:"visible"})}})):e.css({height:i+"px"})),a.settings.isGallery){var n=a.lightbox.find(".lightbox-prev"),o=a.lightbox.find(".lightbox-next"),p=(i-n.outerHeight())/2;(n.css("top")!=p||o.css("top")!=p)&&(a.settings.animate?(n.animate({top:p+"px"},l),o.animate({top:p+"px"},l)):(n.css({top:p+"px"}),o.css({top:p+"px"})))}},a.setPosition=function(b){var b=b||!1,c=a.lightbox.find(".lightbox-body");"initial"==b?(a.lightbox.css({visibility:"hidden",display:"block"}),c.css({marginTop:(a.windowHeight()-c.outerHeight())/2+"px"}),a.lightbox.css({visibility:"visible",display:"none"})):"update"==b?c.css({marginTop:(a.windowHeight()-c.outerHeight())/2+"px"}):a.setSize(!1,!1,!1)},a.bind=function(c,d){if(c.off("click").click(function(){var d=b.extend(!0,{open:!0},d);return a.init(c,d),!1}),void 0!=d.open&&d.open||"undefined"!=typeof a.settings&&"undefined"!=typeof a.settings.open&&a.settings.open){var d=b.extend(!0,{open:!0},d);a.init(c,d)}},a.cancel=function(a){a.attr("target","_blank")},a.open=function(){b("html,body").css({position:"relative",overflow:"hidden"}),b("body").append(a.lightbox),a.settings.classes&&a.lightbox.addClass(a.settings.classes),a.setPosition("initial"),a.lightbox.fadeIn(450),"function"==typeof a.settings.onShow&&a.settings.onShow(a.lightbox)},a.close=function(){b("html,body").css({position:a.settings.documentBody.position,overflow:a.settings.documentBody.overflow}),a.lightbox.fadeOut(450,function(){"inline"==a.settings.type&&(b(".lightbox-content-clone").html(a.settings.contentElement),b(".lightbox-content-clone").find(a.settings.content).unwrap()),a.lightbox.remove(),"function"==typeof a.settings.onClose&&a.settings.onClose(a.lightbox)})}}a.lightbox=new c,b.fn.extend({lightbox:function(c){var d=c||{};return this.each(function(){var c=b(this);switch(d){default:case"bind":a.lightbox.bind(c,d);break;case"open":a.lightbox.open();break;case"close":a.lightbox.close();break;case"update":a.lightbox.setPosition("update")}})}})}(window,jQuery);